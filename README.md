# Daily Work(ê°œì¸ ëª©í‘œ ë‹¬ì„± í”Œë«í¼)

> **ìì‹ ì˜ ëª©í‘œë¥¼ ë¯¸ì…˜ìœ¼ë¡œ ë“±ë¡í•˜ê³  ê°œì¸ ë˜ëŠ” ì—¬ëŸ¬ ì‚¬ëŒê³¼ í•¨ê»˜ ëª©í‘œë¥¼ ì„±ì·¨í•  ìˆ˜ ìˆëŠ” ìê¸° ê³„ë°œ í”Œë«í¼**
> 
> 
>  **GitHub**  : https://github.com/youngwooooo/daily-work.git
> 

---

- **ê°œë°œ ëª©ì **
    - ì·¨ì—… ì¤€ë¹„ë¥¼ í•˜ë©° ì¼ì¼ ë˜ëŠ” ê¸°ê°„ì„ ì •í•´ í•´ì•¼ í•  ì¼ì˜ ëª©í‘œë¥¼ ì •í•´ë‘ê³  ì‹¤ì²œí•˜ëŠ” ê·œì¹™ì ì¸ ìƒí™œì˜ í•„ìš”ì„±ì„ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
    - ë‚´ê°€ ì„¤ì •í•œ ëª©í‘œë¥¼ ëˆˆìœ¼ë¡œ ì§ì ‘ í™•ì¸í•˜ê³  ê¸°ë¡í•  ìˆ˜ ìˆë‹¤ë©´ ë³´ë‹¤ í° ì„±ì·¨ê°ì„ ì–»ì„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.
    - Spring Boot, JPA, Security ë“±ì˜ ê¸°ìˆ ë“¤ì„ ì•½ 1ê°œì›” ê°„ í•™ìŠµí•˜ì˜€ê³  ì§ì ‘ í™œìš©í•˜ê³  ê²½í—˜í•˜ì—¬ ê°œë°œ ì—­ëŸ‰ì„ í‚¤ìš°ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.
    
- **ê°œë°œ í™˜ê²½**
    - Java 1.8
    - Spring Boot (API Sever)
    - Spring Security (Security)
    - Spring Data JPA & QueryDSL (ORM)
    - H2 (RDBMS)
    - OAuth2.0 (Login)
    - Thymeleaf (View)
    - Junit (Test)

# Project Description

---

# 1. íšŒì› ê°€ì…

> íšŒì› ê°€ì…ì„ í†µí•´ ê³„ì •ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![1 íšŒì›ê°€ì…](https://user-images.githubusercontent.com/80368534/158803203-3f215570-a296-4e25-ba6a-3db0464b8c50.PNG)

---

# 2. ë¡œê·¸ì¸

> ì¼ë°˜ ë¡œê·¸ì¸ ë˜ëŠ” ì†Œì…œ ë¡œê·¸ì¸(êµ¬ê¸€, ì¹´ì¹´ì˜¤, ë„¤ì´ë²„)ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![2 ë¡œê·¸ì¸](https://user-images.githubusercontent.com/80368534/158803397-24fd7c0c-5bf6-4731-8569-af6439928e8e.PNG)

---

# 3. ê³„ì • ê´€ë¦¬

> ì‚¬ìš©ì ì •ë³´ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![3 ê³„ì •ê´€ë¦¬(ì¼ë°˜-1)](https://user-images.githubusercontent.com/80368534/158803522-a19b8b3d-763d-434a-b96f-80833566a562.PNG)

![3 ê³„ì •ê´€ë¦¬(ì¼ë°˜-2)](https://user-images.githubusercontent.com/80368534/158803580-e70b145f-d5a4-4372-92de-65e0b21c378f.PNG)

---

# 4. í™ˆ(ë¯¸ì…˜)

> ë“±ë¡ëœ ëª¨ë“  ë¯¸ì…˜ì— ëŒ€í•´ ì¡°íšŒ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë¯¸ì…˜ ì œëª©, ì‘ì„±ì ì´ë¦„ì„ í†µí•´ ë¯¸ì…˜ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![4 í™ˆ(ë¯¸ì…˜)](https://user-images.githubusercontent.com/80368534/158803679-3731f196-b4cc-496c-b4ff-12a3916effbc.PNG)

---

# 5. ë¯¸ì…˜ ë§Œë“¤ê¸°

> ë¯¸ì…˜ì„ ì„ì‹œì €ì¥ ë° ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë¯¸ì…˜ ëŒ€í‘œ ì´ë¯¸ì§€ì™€ ë¯¸ì…˜ ì¢…ë£Œì¼ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> ê³µê°œ ì—¬ë¶€, ìë™ì°¸ì—¬ ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![ë¯¸ì…˜ ë“±ë¡](https://user-images.githubusercontent.com/80368534/158803761-9ce8e538-94ae-4b06-a048-92c8ca8af4b7.PNG)

---

# 6. ë¯¸ì…˜ ìƒì„¸ ì¡°íšŒ

---

<aside>
ğŸ’¡ ë¯¸ì…˜ ìƒì„±ì(ë°©ì¥)

</aside>

> ë¯¸ì…˜ ì°¸ì—¬ì ê´€ë¦¬, ë¯¸ì…˜ ìˆ˜ì • ë° ì‚­ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜ìƒì„±ì](https://user-images.githubusercontent.com/80368534/158803803-211e980c-bc4e-434e-a844-5f4f9c9ebbf4.PNG)

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜ìƒì„±ì-ë¯¸ì…˜ì°¸ì—¬ìê´€ë¦¬](https://user-images.githubusercontent.com/80368534/158803849-6b55b8d3-16ce-4626-9674-6073310693d2.PNG)

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜ìƒì„±ì-ë¯¸ì…˜ì‚­ì œ](https://user-images.githubusercontent.com/80368534/158803918-f8b8dae3-1e86-4f0a-8c93-858f99d2a9f0.PNG)

> ì œì¶œëœ ë¯¸ì…˜ì„ ìŠ¹ì¸ ë° ë°˜ë ¤ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜ìƒì„±ì-ìŠ¹ì¸ëŒ€ê¸°ë¯¸ì…˜](https://user-images.githubusercontent.com/80368534/158803966-72c2539d-889e-4825-b838-59680c142a93.PNG)

---

<aside>
ğŸ’¡ ë¯¸ì…˜ ì°¸ì—¬ì

</aside>

> ê° ì£¼ì°¨ë³„ë¡œ ìŠ¹ì¸ì´ ì™„ë£Œëœ ë¯¸ì…˜ì°¸ì—¬ìë“¤ì˜ ëª¨ë“  ë¯¸ì…˜í˜„í™©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> **ë¯¸ì œì¶œ(X) / ì œì¶œ(O) / ìŠ¹ì¸(ì²´í¬)**
> 

---

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜í˜„í™©](https://user-images.githubusercontent.com/80368534/158804039-6255e526-d802-4319-812e-8d040eb63ead.PNG)

![ë¯¸ì…˜í˜„í™©3](https://user-images.githubusercontent.com/80368534/158804072-e0ffb662-552e-4183-a7ab-a51c4c8af445.PNG)

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜í˜„í™©-2](https://user-images.githubusercontent.com/80368534/158804166-9b3242bc-ec5b-4341-bb03-05c660c7a9ee.PNG)

> ë¯¸ì…˜í˜„í™©ì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë˜í•œ, ì‘ì„±í•œ ë¯¸ì…˜í˜„í™©ì€ â€˜ë‚˜ì˜ ì œì¶œ ë¯¸ì…˜â€™ì—ì„œ í™•ì¸ ë° ìˆ˜ì •ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.(**â€™ìŠ¹ì¸â€™**ëœ ì œì¶œ ë¯¸ì…˜ì€ ìˆ˜ì • ë¶ˆê°€)
> 

---

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë¯¸ì…˜ì œì¶œ](https://user-images.githubusercontent.com/80368534/158804264-3f554a89-dd2d-46c6-81a0-1025ebdfd6fb.PNG)

![5 ë¯¸ì…˜ìƒì„¸ì¡°íšŒ-ë‚˜ì˜ì œì¶œë¯¸ì…˜](https://user-images.githubusercontent.com/80368534/158804331-ee3fb47a-edbd-4d23-bfd0-026961bbbc35.PNG)

---

# 7. ì»¤ë®¤ë‹ˆí‹°(ê²Œì‹œê¸€)

> ë“±ë¡ëœ ëª¨ë“  ê²Œì‹œê¸€ì„ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë¶„ë¥˜, ê²Œì‹œê¸€ ì œëª©, ì‘ì„±ì ì´ë¦„ì„ í†µí•´ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![6 ì»¤ë®¤ë‹ˆí‹°(ë³µì‚¬)](https://user-images.githubusercontent.com/80368534/158804578-249c05df-39d4-43cd-b1e5-6e42060bb324.png)

---

# 8. ê¸€ ì“°ê¸°

> ê²Œì‹œê¸€ì„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> íŒŒì¼ì€ ê°œìˆ˜ì— ìƒê´€ì—†ì´ 10MBê¹Œì§€ ì²¨ë¶€ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
> 

---

![ê²Œì‹œê¸€ ë“±ë¡](https://user-images.githubusercontent.com/80368534/158810942-336e4fb2-b4ca-48be-9014-56d3e7d0e840.PNG)

---

# 9. ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ

> ê²Œì‹œê¸€ì— ëŒ€í•œ ìƒì„¸ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ëŒ“ê¸€ ë° ë‹µê¸€ì„ ì‘ì„±/ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> ì²¨ë¶€íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![7 ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ](https://user-images.githubusercontent.com/80368534/158811015-05d61fab-8307-4fd0-b585-2d6d8bdfcaba.PNG)

> **ê²Œì‹œê¸€ ì‘ì„±ì**ëŠ” ê²Œì‹œê¸€ ìˆ˜ì • ë° ì‚­ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> í•´ë‹¹ ê²Œì‹œê¸€ì˜ ëª¨ë“  ëŒ“ê¸€ ì‚­ì œë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![7 ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ-ê²Œì‹œê¸€ ì‚­ì œ](https://user-images.githubusercontent.com/80368534/158811045-d7de18be-02f0-4b6b-86bd-a2425f08c80d.PNG)

![7 ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ-ëŒ“ê¸€ ì‚­ì œ](https://user-images.githubusercontent.com/80368534/158811063-66c23f5c-455b-44e5-b667-275e8a1bd3a8.PNG)

---

# 10. ë§ˆì´í˜ì´ì§€

> ê³„ì • ê´€ë¦¬ë¥¼ í†µí•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ìµœê·¼ ì°¸ì—¬í•œ ë¯¸ì…˜ / ìµœê·¼ ì‘ì„±í•œ ë¯¸ì…˜ / ìµœê·¼ ì‘ì„±í•œ ê²Œì‹œê¸€ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![7 ë§ˆì´í˜ì´ì§€](https://user-images.githubusercontent.com/80368534/158811147-98ff0514-b668-4f4e-851c-76c4dc618a1c.PNG)

---

> **ìì‹ ì´ ì°¸ì—¬í•œ ë¯¸ì…˜, ìì‹ ì´ ì‘ì„±í•œ ë¯¸ì…˜**ì„ ìµœì‹  ìˆœìœ¼ë¡œ ì¡°íšŒí•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë¯¸ì…˜ í´ë¦­ ì‹œ, í•´ë‹¹ ë¯¸ì…˜ ìƒì„¸ ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
> 

---

![7.ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì°¸ì—¬ë¯¸ì…˜.PNG](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/02dcb1bd-d43d-439f-9673-02b86ec3bc6f/7.ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì°¸ì—¬ë¯¸ì…˜.png)

![7.ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì‘ì„±ë¯¸ì…˜.PNG](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3f7e191c-d4b3-4e7c-9034-f044e3aa940e/7.ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì‘ì„±ë¯¸ì…˜.png)

---

> **ìì‹ ì´ ì œì¶œí•œ ë¯¸ì…˜ í˜„í™©**ì„ ìµœì‹  ìˆœìœ¼ë¡œ ì¡°íšŒí•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ë¯¸ì…˜ í˜„í™© í´ë¦­ ì‹œ, í•´ë‹¹ ë¯¸ì…˜ í˜„í™©ì„ ìƒì„¸ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![7 ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì°¸ì—¬ë¯¸ì…˜](https://user-images.githubusercontent.com/80368534/158811195-d46f4b58-0316-4857-8532-99a753c2561e.PNG)

![7 ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ì‘ì„±ë¯¸ì…˜](https://user-images.githubusercontent.com/80368534/158811206-c854bfc3-2e9e-48dd-9825-b688909feefd.PNG)

---

> **ìì‹ ì´ ì‘ì„±í•œ ê²Œì‹œê¸€**ì„ ì¡°íšŒ/ê²€ìƒ‰/ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 
> 
> ê²Œì‹œê¸€ í´ë¦­ ì‹œ, í•´ë‹¹ ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> 

---

![7 ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ê²Œì‹œê¸€](https://user-images.githubusercontent.com/80368534/158811352-14874d6f-3838-4b6f-af02-dacfbe3d4a92.PNG)

![7 ë§ˆì´í˜ì´ì§€-ë‚˜ì˜ê²Œì‹œê¸€-ì‚­ì œ](https://user-images.githubusercontent.com/80368534/158811247-ce6be45e-ffed-4ef6-b192-f27bef731928.PNG)

---

# Project Structure

---

# 1. Spring Boot (API Server)

---

> ë„ë©”ì¸ íŒ¨í‚¤ì§€ êµ¬ì¡°ë¡œ ì„¤ê³„í•˜ì˜€ìŠµë‹ˆë‹¤.
> 
> 
> ( ê° ë„ë©”ì¸ ë³„ í•˜ìœ„ êµ¬ì¡°ë¡œ Controller, Dto, Service ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. )
> 

---

- **aceess**  : ê³µí†µì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” API
- **apiserver**  : ê°ê°ì˜ Entityë³„ Rest Controllerë¥¼ ê´€ë¦¬
- **board**  : Board Entityì™€ ê´€ë ¨ëœ API
- **boardfile**  : BoardFile Entityì™€ ê´€ë ¨ëœ API
- **config**  : í”„ë¡œì íŠ¸ì˜ Configuration
- **domain**  : í”„ë¡œì íŠ¸ì˜ entity, pk ( ë³µí•©í‚¤ ), repository ( JPA & QueryDSL )
- **exception**  : exception ê´€ë¦¬
- **login**  : ìŠ¤í”„ë§ ì‹œíë¦¬í‹° ë¡œê·¸ì¸ & OAuth2.0 ë¡œê·¸ì¸ ( êµ¬ê¸€ / ì¹´ì¹´ì˜¤ / ë„¤ì´ë²„ ) API
- **mission**  : Mission Entityì™€ ê´€ë ¨ëœ API
- **scheduler**  : ìŠ¤í”„ë§ ìŠ¤ì¼€ì¥´ëŸ¬
- **user**  : User Entityì™€ ê´€ë ¨ëœ API

> ìˆ˜ì •, ì‚­ì œì™€ ê´€ë ¨ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ Serviceê°€ ì•„ë‹Œ domainì— ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

---

```java
// User
user.modifyPassword() // ë¹„ë°€ë²ˆí˜¸ ìˆ˜ì •
user.modifyUserInfo() // íšŒì› ì •ë³´ ìˆ˜ì • (ì´ë¦„, ì´ë©”ì¼, í”„ë¡œí•„ ì‚¬ì§„)

// Mission
mission.modifyMissionImage() // ë¯¸ì…˜ ëŒ€í‘œ ì´ë¯¸ì§€ ìˆ˜ì •
mission.modifyMission() // ë¯¸ì…˜ ìˆ˜ì • (ì œëª©, ë‚´ìš©, ì‹œì‘ì¼, ì¢…ë£Œì¼, ê³µê°œì—¬ë¶€, ìë™ì°¸ì—¬ ì—¬ë¶€, ì„ì‹œì—¬ë¶€, ë¯¸ì…˜ ëŒ€í‘œ ì´ë¯¸ì§€)
mission.deleteMission() // ë¯¸ì…˜ ì‚­ì œ (ì‚­ì œ ì—¬ë¶€ Yë¡œ ë³€ê²½)
mission.modifyCloseYn() // ë¯¸ì…˜ ë§ˆê° (ë§ˆê° ì—¬ë¶€ Yë¡œ ë³€ê²½)

// MissionParticipants
missionParticipants.approveParticipants() // ì°¸ì—¬ì—¬ë¶€, ì°¸ì—¬ìŠ¹ì¸ì¼ ìˆ˜ì •

// MissionState
missionState.modifyMissionStateApprovalYn() // ìŠ¹ì¸ ì—¬ë¶€ ìˆ˜ì •
missionState.modifyMissionStateRejectionInfo() // ë°˜ë ¤ ì—¬ë¶€, ë°˜ë ¤ ì¼ì, ë°˜ë ¤ ë‚´ìš© ìˆ˜ì •
missionState.modifyMyMissionState() // ë¯¸ì…˜ í˜„í™© ìˆ˜ì • (ì œëª©, ë‚´ìš©, ì´ë¯¸ì§€, ë°˜ë ¤ ì—¬ë¶€, ë°˜ë ¤ ì¼ì, ë°˜ë ¤ ë‚´ìš©)

// Board
board.increaseViewCount() // ì¡°íšŒìˆ˜ ì¦ê°€
board.deleteBoard() // ê²Œì‹œê¸€ ì‚­ì œ (ì‚­ì œ ì—¬ë¶€ Yë¡œ ë³€ê²½)
board.modifyBoard() // ê²Œì‹œê¸€ ìˆ˜ì • (ì œëª©, ë‚´ìš©, ë¶„ë¥˜, ì„ì‹œì—¬ë¶€)

// BoardComment
boardComment.modifyBoardComment() // ëŒ“ê¸€/ë‹µê¸€ ìˆ˜ì •
boardComment.deleteBoardComment() // ëŒ“ê¸€/ë‹µê¸€ ì‚­ì œ (ì‚­ì œ ì—¬ë¶€ Yë¡œ ë³€ê²½)
```

# 2. Spring Security

---

> Spring Security ì„¤ì •ì„ í†µí•´ ê¶Œí•œì— ë”°ë¥¸ API ì ‘ê·¼ì„ í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

---

```
// csrf í† í° ë¹„í™œì„±í™”
http.csrf().disable();
// ì¤‘ë³µ ë¡œê·¸ì¸ì„ ìœ„í•œ ì„¸ì…˜ ì²˜ë¦¬
http.sessionManagement()
				.maximumSessions(1)                  /* session ìµœëŒ€ í—ˆìš© ê°œìˆ˜ */
        .maxSessionsPreventsLogin(false)     /* false : ì¤‘ë³µ ë¡œê·¸ì¸ ì‹œ ê¸°ì¡´ ë¡œê·¸ì¸ ì¢…ë£Œ , true : ì¤‘ë³µ ë¡œê·¸ì¸ ì‹œ ì—ëŸ¬ ë°œìƒ */
        .sessionRegistry(sessionRegistry())  /* ëª¨ë“  ì„¸ì…˜ ì •ë³´ë¥¼ ê°€ì§ */
        .expiredUrl("/");                    /* ì„¸ì…˜ ë§Œë£Œì‹œ ì´ë™ url */

http.authorizeRequests()
						.antMatchers("/user/**", "/boards", "/board/**").hasRole("USER")  /* USER ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥ */
            .antMatchers("/admin/**").hasRole("ADMIN")                        /* ADMIN ê¶Œí•œì„ ê°€ì§„ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥ */
            .anyRequest().permitAll()                                         /* ì´ ì™¸ì˜ ì ‘ê·¼ ì„¤ì •ì€ ëª¨ë‘ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•¨ */
        .and()
				.logout()                           /* ë¡œê·¸ì•„ì›ƒ ì„¤ì • */
            .logoutSuccessUrl("/missions")  /* ë¡œê·¸ì•„ì›ƒ url */
            .invalidateHttpSession(true)    /* ë¡œê·¸ì•„ì›ƒ ì‹œ ì„¸ì…˜ ì œê±° */
            .deleteCookies("JSESSIONID")    /* ë¡œê·¸ì•„ì›ƒ ì‹œ ì¿ í‚¤ ì œê±° */
            .clearAuthentication(true)      /* ë¡œê·¸ì•„ì›ƒ ì‹œ ê¶Œí•œ ì œê±° */
        .and()
				.formLogin()                                          /* form ë¡œê·¸ì¸ ì„¤ì • */
            .loginPage("/login")                              /* ë¡œê·¸ì¸ í˜ì´ì§€ */
            .usernameParameter("userId")                      /* username íŒŒë¼ë¯¸í„° ì´ë¦„ ë³€ê²½ */
            .passwordParameter("userPw")                      /* password íŒŒë¼ë¯¸í„° ì´ë¦„ ë³€ê²½ */
            .loginProcessingUrl("/login")                     /* ë¡œê·¸ì¸ ì„±ê³µ ì‹œ url */
            .failureHandler(new CustomLoginFailHandler())     /* ë¡œê·¸ì¸ ì‹¤íŒ¨ handler */
            .successHandler(new CustomLoginSuccessHandler())  /* ë¡œê·¸ì¸ ì„±ê³µ handler */
        .and()
				.oauth2Login()                              /* oauth2 ë¡œê·¸ì¸ ì„¤ì • */
            .loginPage("/login")                    /* ë¡œê·¸ì¸ í˜ì´ì§€ */
            .userInfoEndpoint()                     /* oauth2 ë¡œê·¸ì¸ ì„±ê³µ ì´í›„ ì„¤ì • */
            .userService(customOauth2UserService);  /* oauth2 ë¡œê·¸ì¸ service */
```

# 3. OAuth2.0

---

> ì‚¬ìš©ìì—ê²Œ ê°„í¸í•œ êµ¬ê¸€/ì¹´ì¹´ì˜¤/ë„¤ì´ë²„ ì†Œì…œ ë¡œê·¸ì¸ì„ ì œê³µí•©ë‹ˆë‹¤. ( ìš”ì²­ ì •ë³´: ì´ë¦„/ì´ë©”ì¼/í”„ë¡œí•„ ì‚¬ì§„ )
> 

---

![oauth2 ì¸ì¦ ê³¼ì •.PNG](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8022b51a-61c0-467e-824e-1426662d3cf8/oauth2_ì¸ì¦_ê³¼ì •.png)

# 4. Spring Data JPA & QueryDSL

---

> Spring Data JPAì˜ ê°ì²´ ì¤‘ì‹¬ domain ì„¤ê³„ë¥¼ ì§€í–¥í•˜ê³  ë°˜ë³µì ì¸ CRUD ì‘ì—…ì„ ëŒ€ì²´í•˜ì˜€ìŠµë‹ˆë‹¤.
> 
> 
> Join, DTO ì¡°íšŒ, ì—¬ëŸ¬ ê°œì˜ ì¡°ê±´ì´ ìˆëŠ” SQL ë“±ì„ QueryDSLë¡œ í•´ê²°í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

---

- **Mission**  ( Domain Class )
    
    ```java
    @Getter
    @NoArgsConstructor
    @SequenceGenerator(
            name = "MISSION_SEQ_INCREASE",
            sequenceName = "MISSION_SEQ_INCREASE", // ì‹œí€¸ìŠ¤ ëª…
            initialValue = 1, // ì´ˆê¸° ê°’
            allocationSize = 1 // ë¯¸ë¦¬ í• ë‹¹ ë°›ì„ ì‹œí€¸ìŠ¤ ìˆ˜
    )
    @AllArgsConstructor
    @Builder
    @Entity
    @Table(name = "TB_MISSION_INFO")
    public class Mission extends BaseTime {
    		............
    }
    ```
    

- **MissionRepository**  ( JPA Interface )
    
    ```java
    public interface MissionRepository extends JpaRepository<Mission, Long>, MissionRepositoryCustom {
    		............
    }
    ```
    

- **MissionRepositoryCustom**  ( QueryDSL Interface )
    
    ```java
    public interface MissionRepositoryCustom {
    		............
    }
    ```
    

- **MissionRepositoryImple**  ( QueryDSL Implements Class )
    
    ```java
    @RequiredArgsConstructor
    @Repository
    @Slf4j
    public class MissionRepositoryImpl implements MissionRepositoryCustom {
    		............
    }
    ```
    

# 5. Junit5

---

> Controller / Service / Repository ê° Layerë³„ë¡œ Mokitoë¥¼ í™œìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.
> 

---

## 1) **Controller**

- **@WebMvcTest**
    - Controller, webê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ ì„¤ì •(Configuration, Bean ë“±)ë§Œì„ ìŠ¤ìº”í•˜ì—¬ ë„ìš´ë‹¤.
    - ê°„ë‹¨í•˜ê²Œ Controllerì— ì˜ˆìƒë˜ëŠ” ìš”ì²­/ì‘ë‹µì„ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê¸° ìœ„í•¨.
- **@MockBean**
    - í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” í´ë˜ìŠ¤ì— ì˜ì¡´ì„± ì£¼ì…ì´ ë˜ì–´ìˆëŠ” Beanë“¤ì„ ê°€ì§œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
    - ì¦‰, Controllerì˜ ì˜ì¡´ì„± ì£¼ì…ëœ Serviceë¥¼ ê°€ì§œ ê°ì²´ë¡œ ë§Œë“ ë‹¤.
- **@TestMethodOrder**  : í…ŒìŠ¤íŠ¸ ì½”ë“œì— ìˆœì„œë¥¼ ë¶€ì—¬í•˜ê¸° ìœ„í•¨.
- **MockMvc**  : í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ MVCí™˜ê²½ì„ ë§Œë“¤ì–´ ìš”ì²­ ë° ì „ì†¡, ì‘ë‹µ ê¸°ëŠ¥ì„ ì œê³µí•¨

```java
@WebMvcTest(controllers = MissionApiController.class
        , excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = SecurityConfig.class)) // SecurityConfig.classì˜ Beanì´ í•„ìš”í•¨ â†’ ì—ëŸ¬ ë°œìƒ â†’ SecurityConfig.classë¥¼ ì œì™¸í•¨
@MockBean(JpaMetamodelMappingContext.class) // JPA ê´€ë ¨ Bean ìŠ¤ìº” X â†’ ì—ëŸ¬ ë°œìƒ â†’ @MockBeanìœ¼ë¡œ ê°€ì§œ ê°ì²´ ìƒì„±
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
@DisplayName("MissionApiController :: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸")
class MissionApiControllerTest {

		@Autowired
    private MockMvc mockMvc;

    @MockBean
    private MissionService missionService;

    @MockBean
    private MissionParticipantsService missionParticipantsService;

    @MockBean
    private MissionStateService missionStateService;

		............
}
```

```java
@WebMvcTest(controllers = MissionController.class
            , excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = SecurityConfig.class)) // SecurityConfig.classì˜ Beanì´ í•„ìš”í•¨ â†’ ì—ëŸ¬ ë°œìƒ â†’ SecurityConfig.classë¥¼ ì œì™¸í•¨
@MockBean(JpaMetamodelMappingContext.class) // JPA ê´€ë ¨ Bean ìŠ¤ìº” X â†’ ì—ëŸ¬ ë°œìƒ â†’ @MockBeanìœ¼ë¡œ ê°€ì§œ ê°ì²´ ìƒì„±
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
@DisplayName("MissionController :: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸")
class MissionControllerTest {

		@Autowired
    private MockMvc mockMvc;

    @MockBean
    private MissionService missionService;

    @MockBean
    private MissionParticipantsService missionParticipantsService;

    @MockBean
    private MissionStateService missionStateService;

		............
}
```

## 2) Service

- **@ExtendWith**  : Mokitoì˜ Mock ê°ì²´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•¨
- **@Mock**
    - í…ŒìŠ¤íŠ¸í•˜ê³ ì í•˜ëŠ” í´ë˜ìŠ¤ì— ì˜ì¡´ì„± ì£¼ì…ì´ ë˜ì–´ìˆëŠ” Beanë“¤ì„ ê°€ì§œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤.
    - ì¦‰, Serviceì— ì˜ì¡´ì„± ì£¼ì…ëœ Repositoryë¥¼ ê°€ì§œ ê°ì²´ë¡œ ë§Œë“ ë‹¤.
- **@InjectMocks**  : ìƒì„±ëœ Mock ê°ì²´ë¥¼ í•´ë‹¹ ê°ì²´ì— ì£¼ì…ì‹œí‚¨ë‹¤.

```java
@ExtendWith(MockitoExtension.class)
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
@DisplayName("MissionService :: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸")
public class MissionServiceTest {
    private final Logger log = LoggerFactory.getLogger(MissionServiceTest.class);

    @Mock
    private MissionRepository missionRepository;

    @Mock
    private MissionParticipantsRepository missionParticipantsRepository;

    @Mock
    private MissionStateRepository missionStateRepository;

    @InjectMocks
    private MissionService missionService;

		............
}
```

## 3) Repository

- **@DataJpaTest**  : JPAì™€ ê´€ë ¨ëœ ì—¬ëŸ¬ ì„¤ì •(Configuration, Bean ë“±)ë§Œì„ ìŠ¤ìº”í•˜ì—¬ ë„ìš´ë‹¤.
- **@Import**
    - TestConfigurationìœ¼ë¡œ ì„¤ì •í•œ í´ë˜ìŠ¤ë¥¼ import ì‹œì¼œì¤€ë‹¤.
    - QueryDSLì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— JPAQueryFactoryë¥¼ Beanìœ¼ë¡œ ë“±ë¡ì´ í•„ìš” â†’ TestConfig.classì— ë“±ë¡í•˜ê³  import í•œë‹¤.
- **@AutoConfigureTestDatabase**
    - í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ DB ì„¤ì •
    - @AutoConfigureTestDatabase(replace = Replace.NONE) : application.ymlì— ì„¤ì •í•œ DBë¥¼ ì—°ë™í•œë‹¤.

```java
@TestConfiguration
public class TestConfig {

    @PersistenceContext
    private EntityManager entityManager;

    @Bean
    public JPAQueryFactory jpaQueryFactory(){
        return new JPAQueryFactory(entityManager);
    }
}
```

```java
@DataJpaTest
@Import(TestConfig.class)
@AutoConfigureTestDatabase(replace = Replace.NONE)
@TestMethodOrder(MethodOrderer.OrderAnnotation.class)
@DisplayName("MissionRepository :: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸")
public class MissionRepositoryTest {

    @Autowired
    private MissionRepository missionRepository;

    @Autowired
    private UserRepository userRepository;

    @Autowired
    private MissionParticipantsRepository missionParticipantsRepository;

    @Autowired
    private EntityManager entityManager;

		............
}
```

- **í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ë°°ìš´ì **
    1. **Spring Bootì˜ ì¥ì **
        - spring-boot-starterë¥¼ í†µí•´ ëª¨ë“ˆì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ì¶”ê°€í•˜ë©´ í•´ë‹¹ ëª¨ë“ˆì— ê´€ë ¨ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ìë™ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ì‰½ê²Œ í™œìš©í•  ìˆ˜ ìˆë‹¤.
        - dependencyì˜ ë²„ì „ ê´€ë¦¬ëŠ” Spring bootì˜ ë²„ì „ì— ë”°ë¼ ê¶Œì¥ ë²„ì „ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìë™ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.
        - ë‚´ì¥ WASë¥¼ í†µí•´ ë”°ë¡œ ì„¤ì¹˜í•´ì£¼ì§€ ì•Šì•„ë„ ë°”ë¡œ applicationì„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆë‹¤.
        - Configuration, Bean ë“±ì„ í†µí•œ ê¸°ë³¸ ì„¤ì •ì„ ìë°” ì½”ë“œê°€ ì•„ë‹Œ application.yml íŒŒì¼ë¡œ ì„¤ì •ì„ í•  ìˆ˜ ìˆë‹¤.
        
    2. **Spring Data JPAì™€ QueryDSLì— ëŒ€í•œ ì´í•´**
        - CRUD ë¡œì§ì— ê´€í•œ SQLì„ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•  í•„ìš”ê°€ ì—†ë‹¤.
            
            â†’ JPAê°€ êµ¬í˜„í•œ ê°„ë‹¨í•œ ë©”ì„œë“œë¥¼ í™œìš©
            
        - ë³µì¡í•œ SELECT QueryëŠ” Native Queryë¡œ ì§ì ‘ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì˜¤íƒ€ ë°œìƒ ì‹œ, ëŸ°íƒ€ì„ ì‹œì ì—ì„œë§Œ ì˜¤ë¥˜ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
        - QueryDSLì„ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ Native Queryë¥¼ ìë°” ì½”ë“œë¡œ ê°€ë…ì„± ìˆê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
        
    3. **Spring Securityì˜ í•„ìš”ì„±**
        - Spring Securityì„ í†µí•œ ì„¤ì •ìœ¼ë¡œ ê¶Œí•œì— ë”°ë¥¸ íŠ¹ì • APIì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤.
            
            â†’  ì¦‰, ì„¸ì…˜ì˜ ì¡´ì¬ì—¬ë¶€ë‚˜ ê°’ì— ë”°ë¼ í™”ë©´ì´ë‚˜ ì„œë²„ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ ì²˜ë¦¬ê°€ í•„ìš”ê°€ ì—†ë‹¤.
            
        - ë¹„ë°€ë²ˆí˜¸ í•´ì‰¬í™”ë¥¼ í†µí•´ ë³´ì•ˆì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.
        
    4. **OAuth2.0 ë¡œê·¸ì¸**
        - OAuth2.0ì˜ ì¸ì¦ ê³¼ì •ì— ëŒ€í•œ ê°œë…ì„ ì •ë¦½í•  ìˆ˜ ìˆì—ˆë‹¤.
        - OAuth2.0 ë¡œê·¸ì¸ ì‚¬ìš© ì‹œ, ServerëŠ” ì¤‘ê°œìì˜ ì—­í• ì„ í•œë‹¤.
        
    5. **Thymeleaf**
        - Spring Bootì—ì„œ jspëŠ” ì—¬ëŸ¬ ì œí•œ ì‚¬í•­ì´ ìˆì–´ ì‚¬ìš©ì„ ì§€ì–‘í•˜ê³ , ë·° í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•˜ë„ë¡ ì§€í–¥í•œë‹¤.
        - ThymeleafëŠ” ë§ì€ ë·° í…œí”Œë¦¿ ì—”ì§„ ì¤‘ì˜ í•˜ë‚˜ì´ë‹¤.
        - ì¡°ê±´ë¬¸, ë°˜ë³µë¬¸, ê²½ë¡œ ì§€ì • ë“± ì—¬ëŸ¬ ë¬¸ë²•ì— ëŒ€í•œ ê¸°ì´ˆë¥¼ ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤.
    
    6. **Junit í…ŒìŠ¤íŠ¸ ì½”ë“œ**
    	- í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì‘ì„±í•˜ë©´ ê¸°ëŠ¥ì˜ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œì™€ ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ì— ëŒ€í•´ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆë‹¤.
    	- ëª¨ë“  ê¸°ëŠ¥ì„ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ì„œ ê¸°ì¡´ì˜ ê°œë°œí•œ ê¸°ëŠ¥ë§Œì„ í…ŒìŠ¤íŠ¸í•œ ì ì´ ì•„ì‰¬ì› ë‹¤.
    	- Controller, Service, Repository ê° Layerì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
